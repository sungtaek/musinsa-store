import{a as c,_ as M,b as d,R as t,c as O,P as r,p as de,q as pe}from"./index-va5UnrO5.js";import{C as le}from"./cil-monitor-Ecr67Ieb.js";import{C as ce}from"./CConditionalPortal-B6U6fauM.js";import{u as J}from"./DefaultLayout-pZoWm_zp.js";import{C as ue}from"./CButton-DDicmkuX.js";import{u as fe,i as me}from"./isRTL-CWKthzpe.js";import{g as ve}from"./getNextActiveElement-BFbndcFM.js";var ge=function(e){var n=[];if(typeof e=="object")for(var o in e)n.push("dropdown-menu".concat(o==="xs"?"":"-".concat(o),"-").concat(e[o]));return typeof e=="string"&&n.push("dropdown-menu-".concat(e)),n},we=function(e,n,o,i){var a=e;return n==="dropup"&&(a=i?"top-end":"top-start"),n==="dropup-center"&&(a="top"),n==="dropend"&&(a=i?"left-start":"right-start"),n==="dropstart"&&(a=i?"right-start":"left-start"),o==="end"&&(a=i?"bottom-start":"bottom-end"),a},j=c.createContext({}),Q=c.forwardRef(function(e,n){var o,i=e.children,a=e.alignment,b=e.as,h=b===void 0?"div":b,p=e.autoClose,f=p===void 0?!0:p,N=e.className,y=e.container,C=e.dark,s=e.direction,m=e.offset,R=m===void 0?[0,2]:m,v=e.onHide,g=e.onShow,k=e.placement,D=k===void 0?"bottom-start":k,P=e.popper,T=P===void 0?!0:P,V=e.popperConfig,F=e.portal,Z=F===void 0?!1:F,H=e.variant,x=H===void 0?"btn-group":H,I=e.visible,S=I===void 0?!1:I,$=M(e,["children","alignment","as","autoClose","className","container","dark","direction","offset","onHide","onShow","placement","popper","popperConfig","portal","variant","visible"]),_=c.useRef(null),w=c.useRef(null),l=c.useRef(null),ee=J(n,_),B=c.useState(S),L=B[0],q=B[1],K=fe(),re=K.initPopper,ne=K.destroyPopper,te=x==="nav-item"?"li":h;typeof a=="object"&&(T=!1);var oe={alignment:a,container:y,dark:C,dropdownToggleRef:w,dropdownMenuRef:l,popper:T,portal:Z,variant:x,visible:L,setVisible:q},U={modifiers:[{name:"offset",options:{offset:R}}],placement:we(D,s,a,me(l.current))},ae=d(d({},U),typeof V=="function"?V(U):V);c.useEffect(function(){q(S)},[S]),c.useEffect(function(){return L&&w.current&&l.current&&(w.current.focus(),T&&re(w.current,l.current,ae),window.addEventListener("mouseup",G),window.addEventListener("keyup",z),w.current.addEventListener("keydown",A),l.current.addEventListener("keydown",A),g&&g()),function(){T&&ne(),window.removeEventListener("mouseup",G),window.removeEventListener("keyup",z),w.current&&w.current.removeEventListener("keydown",A),l.current&&l.current.removeEventListener("keydown",A),v&&v()}},[L]);var A=function(u){if(L&&l.current&&(u.key==="ArrowDown"||u.key==="ArrowUp")){u.preventDefault();var ie=u.target,se=Array.from(l.current.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)"));ve(se,ie,u.key==="ArrowDown",!0).focus()}},z=function(u){f!==!1&&u.key==="Escape"&&q(!1)},G=function(u){if(!(!w.current||!l.current)&&!w.current.contains(u.target)&&(f===!0||f==="inside"&&l.current.contains(u.target)||f==="outside"&&!l.current.contains(u.target))){setTimeout(function(){return q(!1)},1);return}};return t.createElement(j.Provider,{value:oe},x==="input-group"?t.createElement(t.Fragment,null,i):t.createElement(te,d({className:O(x==="nav-item"?"nav-item dropdown":x,(o={"dropdown-center":s==="center","dropup dropup-center":s==="dropup-center"},o["".concat(s)]=s&&s!=="center"&&s!=="dropup-center",o),N)},$,{ref:ee}),i))}),E=r.oneOf(["start","end"]);Q.propTypes={alignment:r.oneOfType([E,r.shape({xs:E.isRequired}),r.shape({sm:E.isRequired}),r.shape({md:E.isRequired}),r.shape({lg:E.isRequired}),r.shape({xl:E.isRequired}),r.shape({xxl:E.isRequired})]),as:r.elementType,autoClose:r.oneOfType([r.bool,r.oneOf(["inside","outside"])]),children:r.node,className:r.string,dark:r.bool,direction:r.oneOf(["center","dropup","dropup-center","dropend","dropstart"]),offset:r.any,onHide:r.func,onShow:r.func,placement:de,popper:r.bool,popperConfig:r.oneOfType([r.func,r.object]),portal:r.bool,variant:r.oneOf(["btn-group","dropdown","input-group","nav-item"]),visible:r.bool};Q.displayName="CDropdown";var W=c.forwardRef(function(e,n){var o=e.children,i=e.as,a=i===void 0?"a":i,b=e.className,h=M(e,["children","as","className"]);return t.createElement(le,d({className:O("dropdown-item",b),as:a},h,{ref:n}),o)});W.propTypes={as:r.elementType,children:r.node,className:r.string};W.displayName="CDropdownItem";var X=c.forwardRef(function(e,n){var o=e.children,i=e.as,a=i===void 0?"ul":i,b=e.className,h=M(e,["children","as","className"]),p=c.useContext(j),f=p.alignment,N=p.container,y=p.dark,C=p.dropdownMenuRef,s=p.popper,m=p.portal,R=p.visible,v=J(n,C);return t.createElement(ce,{container:N,portal:m??!1},t.createElement(a,d({className:O("dropdown-menu",{show:R},f&&ge(f),b),ref:v,role:"menu"},!s&&{"data-coreui-popper":"static"},y&&{"data-coreui-theme":"dark"},h),a==="ul"?t.Children.map(o,function(g,k){if(t.isValidElement(g))return t.createElement("li",{key:k},t.cloneElement(g))}):o))});X.propTypes={as:r.elementType,children:r.node,className:r.string};X.displayName="CDropdownMenu";var Y=function(e){var n=e.children,o=e.caret,i=o===void 0?!0:o,a=e.custom,b=e.className,h=e.navLink,p=h===void 0?!0:h,f=e.split,N=e.trigger,y=N===void 0?"click":N,C=M(e,["children","caret","custom","className","navLink","split","trigger"]),s=c.useContext(j),m=s.dropdownToggleRef,R=s.variant,v=s.visible,g=s.setVisible,k=d(d({},(y==="click"||y.includes("click"))&&{onClick:function(T){T.preventDefault(),g(!v)}}),(y==="focus"||y.includes("focus"))&&{onFocus:function(){return g(!0)},onBlur:function(){return g(!1)}}),D=d({className:O({"nav-link":R==="nav-item"&&p,"dropdown-toggle":i,"dropdown-toggle-split":f,show:v},b),"aria-expanded":v},!C.disabled&&d({},k)),P=function(){return a&&t.isValidElement(n)?t.createElement(t.Fragment,null,t.cloneElement(n,d(d({"aria-expanded":v},!C.disabled&&d({},k)),{ref:m}))):R==="nav-item"&&p?t.createElement("a",d({href:"#"},D,{role:"button"},C,{ref:m}),n):t.createElement(ue,d({},D,{tabIndex:0},C,{ref:m}),n,f&&t.createElement("span",{className:"visually-hidden"},"Toggle Dropdown"))};return t.createElement(P,null)};Y.propTypes={caret:r.bool,children:r.node,className:r.string,custom:r.bool,split:r.bool,trigger:pe};Y.displayName="CDropdownToggle";export{Q as C,Y as a,X as b,W as c};
